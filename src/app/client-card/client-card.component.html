<div class="wrap">
  <form [formGroup]="form" (ngSubmit)="submit()">
    <div class="user">
      <div class="itemUser">
        <label><strong>Фамилия</strong></label>
        <input type="text" class="item-name" formControlName="surName">
      </div>
      <div class="itemUser">
        <label><strong>Имя</strong></label>
        <input type="text" class="item-name-small" formControlName="firstName">
      </div>
      <div class="itemUser">
        <label><strong>Отчество</strong></label>
        <input type="text" class="item-name" formControlName="patronymic">
      </div>
    </div>
    <h2>Автомобили</h2>
    <table class="table table-borderless">
      <thead>
      <tr>
        <th>Номер</th>
        <th>Марка</th>
        <th>Модель</th>
        <th>Год</th>
      </tr>
      </thead>
    </table>
    <div formArrayName="car">
      <div *ngFor="let itemCar of getFormControls()['controls']; let i = index" formGroupName="{{i}}">
        <input type="text" formControlName="number" maxlength="8">
        <input type="text" formControlName="brand" >
        <input type="text" formControlName="model" >
        <input type="text" maxlength="4" minlength="4" formControlName="year" >
        <button class="del btn btn-danger"
                (click)="removeCar(i)"
                [disabled]="getFormControls().length <=1">
          <img src="../../assets/images/btn-remove-car.svg" alt="delete car">
        </button>
      </div>
    </div>
  </form>
  <div class="block-buttons">
    <button type="button" class="added btn btn-primary" (click)="addCar()" [disabled]="!form.controls['car'].valid">
      <img src="../../assets/images/btn-add-car.svg" alt="add car"> Добавить автомобиль
    </button>
    <button type="submit" class="save btn btn-primary" (click)="submit()" [disabled]="!form.valid||form.untouched">
      <img src="../../assets/images/btn-submit.svg" alt="submit"> Сохранить
    </button>
    <button type="button" class="back btn btn-secondary" [routerLink]="['/']">
      <img src="../../assets/images/btn-back.svg" alt="back"> Назад
    </button>
  </div>
</div>

